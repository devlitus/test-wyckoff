{% extends "base.html" %}

{% block title %}Wyckoff An치lisis BTCUSDT - Mes Actual{% endblock %}

{% block content %}
<h1 class="mb-4">Wyckoff An치lisis BTCUSDT (1d) - Mes Actual</h1>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="mb-0">Descripci칩n sem치ntica:</h4>
    <a href="{{ url_for('charts.grafica') }}" class="btn btn-primary">Ir a la gr치fica</a>
</div>

<div class="alert alert-info">{{ semantic_description }}</div>

{% if not error %}
    <!-- Secci칩n de cambios de tendencia -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">游댃 Cambios de Tendencia Detectados ({{ trend_changes|length if trend_changes is not none else 0 }})</h5>
        </div>
        <div class="card-body">
            {% if trend_changes is not none and trend_changes|length > 0 %}
                {{ trend_changes.to_html(classes='table table-warning', border=0)|safe }}
            {% else %}
                <p>No se detectaron cambios de tendencia significativos en este per칤odo.</p>
            {% endif %}
        </div>
    </div>

    <h4>Velas del {{ time_period }} (con indicadores):</h4>
    {% if df_with_trends is not none %}
        {{ df_with_trends.to_html(classes='table table-striped', border=0, escape=False)|safe }}
    {% else %}
        <p>No se pudieron cargar los datos</p>
    {% endif %}
{% else %}
    <div class="alert alert-danger">
        <h4>Error</h4>
        <p>No se pudieron cargar los datos del mercado. Por favor, intenta de nuevo m치s tarde.</p>
    </div>
{% endif %}
{% endblock %}
